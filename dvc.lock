schema: '2.0'
stages:
  download_raw_data:
    cmd: python3 -m person_image_segmentation.pipelines.download_raw_data
    deps:
    - path: person_image_segmentation/config.py
      hash: md5
      md5: 6c73610546ae015ce69b499453c3bd0f
      size: 1401
    - path: person_image_segmentation/pipelines/download_raw_data.py
      hash: md5
      md5: 5b6149b8ca2cff50b85265ed0c68bb8c
      size: 899
    - path: person_image_segmentation/utils/dataset_utils.py
      hash: md5
      md5: 086eb4da3561d8f6b79fc9e5aeefc184
      size: 4918
    outs:
    - path: data/raw/dataset_person-yolos/data/images
      hash: md5
      md5: 3dfdc49f5546ce7f914a679ad073e4c1.dir
      size: 296250886
      nfiles: 5000
    - path: data/raw/dataset_person-yolos/data/masks
      hash: md5
      md5: aea06a58b327f00c3d8e4a327bb11625.dir
      size: 15018109
      nfiles: 5000
    - path: data/raw/dataset_person-yolos/test/images
      hash: md5
      md5: aa3ef33c4e3d7f88725ce5fa8983c873.dir
      size: 27439626
      nfiles: 469
  split_data:
    cmd: python3 -m person_image_segmentation.pipelines.split_data
    deps:
    - path: data/raw/dataset_person-yolos/data/images
      hash: md5
      md5: 3dfdc49f5546ce7f914a679ad073e4c1.dir
      size: 296250886
      nfiles: 5000
    - path: data/raw/dataset_person-yolos/data/masks
      hash: md5
      md5: aea06a58b327f00c3d8e4a327bb11625.dir
      size: 15018109
      nfiles: 5000
    - path: person_image_segmentation/config.py
      hash: md5
      md5: 6c73610546ae015ce69b499453c3bd0f
      size: 1401
    - path: person_image_segmentation/pipelines/split_data.py
      hash: md5
      md5: 7f26ab3cad9477fd33e6b38822d67265
      size: 867
    - path: person_image_segmentation/utils/dataset_utils.py
      hash: md5
      md5: 086eb4da3561d8f6b79fc9e5aeefc184
      size: 4918
    outs:
    - path: data/interim/splitted/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: data/interim/splitted/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: data/interim/splitted/images/val
      hash: md5
      md5: d686605d5a6b9207e4e091eacdccc398.dir
      size: 42900191
      nfiles: 750
    - path: data/interim/splitted/masks/test
      hash: md5
      md5: 75c11eef4dc8a21d084d5e9bada29f3b.dir
      size: 2248450
      nfiles: 750
    - path: data/interim/splitted/masks/train
      hash: md5
      md5: 192bf0db04f8db85bf5f5d9db8a1eae9.dir
      size: 10543581
      nfiles: 3500
    - path: data/interim/splitted/masks/val
      hash: md5
      md5: fe111e5ceb8791e8234ed724d136964b.dir
      size: 2226078
      nfiles: 750
  transform_masks:
    cmd: python3 -m person_image_segmentation.pipelines.transform_masks
    deps:
    - path: data/interim/splitted/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: data/interim/splitted/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: data/interim/splitted/images/val
      hash: md5
      md5: d686605d5a6b9207e4e091eacdccc398.dir
      size: 42900191
      nfiles: 750
    - path: data/interim/splitted/masks/test
      hash: md5
      md5: 75c11eef4dc8a21d084d5e9bada29f3b.dir
      size: 2248450
      nfiles: 750
    - path: data/interim/splitted/masks/train
      hash: md5
      md5: 192bf0db04f8db85bf5f5d9db8a1eae9.dir
      size: 10543581
      nfiles: 3500
    - path: data/interim/splitted/masks/val
      hash: md5
      md5: fe111e5ceb8791e8234ed724d136964b.dir
      size: 2226078
      nfiles: 750
    - path: person_image_segmentation/config.py
      hash: md5
      md5: 6c73610546ae015ce69b499453c3bd0f
      size: 1401
    - path: person_image_segmentation/pipelines/transform_masks.py
      hash: md5
      md5: e95b1b5a180e5bd7c00969ad732b836a
      size: 791
    - path: person_image_segmentation/utils/dataset_utils.py
      hash: md5
      md5: 086eb4da3561d8f6b79fc9e5aeefc184
      size: 4918
    outs:
    - path: data/interim/transformed/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: data/interim/transformed/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: data/interim/transformed/images/val
      hash: md5
      md5: d686605d5a6b9207e4e091eacdccc398.dir
      size: 42900191
      nfiles: 750
    - path: data/interim/transformed/masks/test
      hash: md5
      md5: 242ae3d59eecb6a1c88f004ea6af4e5f.dir
      size: 1135792
      nfiles: 750
    - path: data/interim/transformed/masks/train
      hash: md5
      md5: 6a5636466044e76992ae025c07d95bde.dir
      size: 5336358
      nfiles: 3500
    - path: data/interim/transformed/masks/val
      hash: md5
      md5: 5675fb2f36cb11a49575389fcf1fa4a3.dir
      size: 1122275
      nfiles: 750
  create_labels:
    cmd: python3 -m person_image_segmentation.pipelines.create_labels
    deps:
    - path: data/interim/splitted/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: data/interim/splitted/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: data/interim/splitted/images/val
      hash: md5
      md5: d686605d5a6b9207e4e091eacdccc398.dir
      size: 42900191
      nfiles: 750
    - path: data/interim/splitted/masks/test
      hash: md5
      md5: 75c11eef4dc8a21d084d5e9bada29f3b.dir
      size: 2248450
      nfiles: 750
    - path: data/interim/splitted/masks/train
      hash: md5
      md5: 192bf0db04f8db85bf5f5d9db8a1eae9.dir
      size: 10543581
      nfiles: 3500
    - path: data/interim/splitted/masks/val
      hash: md5
      md5: fe111e5ceb8791e8234ed724d136964b.dir
      size: 2226078
      nfiles: 750
    - path: data/interim/transformed/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: data/interim/transformed/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: data/interim/transformed/images/val
      hash: md5
      md5: d686605d5a6b9207e4e091eacdccc398.dir
      size: 42900191
      nfiles: 750
    - path: data/interim/transformed/masks/test
      hash: md5
      md5: 242ae3d59eecb6a1c88f004ea6af4e5f.dir
      size: 1135792
      nfiles: 750
    - path: data/interim/transformed/masks/train
      hash: md5
      md5: 6a5636466044e76992ae025c07d95bde.dir
      size: 5336358
      nfiles: 3500
    - path: data/interim/transformed/masks/val
      hash: md5
      md5: 5675fb2f36cb11a49575389fcf1fa4a3.dir
      size: 1122275
      nfiles: 750
    - path: person_image_segmentation/config.py
      hash: md5
      md5: 6c73610546ae015ce69b499453c3bd0f
      size: 1401
    - path: person_image_segmentation/pipelines/create_labels.py
      hash: md5
      md5: 91b460f148a94ea8b81a19e0058c8d45
      size: 929
    - path: person_image_segmentation/utils/dataset_utils.py
      hash: md5
      md5: 086eb4da3561d8f6b79fc9e5aeefc184
      size: 4918
    outs:
    - path: data/processed/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: data/processed/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: data/processed/images/val
      hash: md5
      md5: d686605d5a6b9207e4e091eacdccc398.dir
      size: 42900191
      nfiles: 750
    - path: data/processed/labels/test
      hash: md5
      md5: c8dcf1cb366282350071c3b02ba8ffce.dir
      size: 13077426
      nfiles: 750
    - path: data/processed/labels/train
      hash: md5
      md5: f8016348b5fd2552011f6d8a99f6587c.dir
      size: 61216079
      nfiles: 3500
    - path: data/processed/labels/val
      hash: md5
      md5: ebb7af4080aea4b2d71963bb7b71796e.dir
      size: 12767414
      nfiles: 750
  complete_data_folder:
    cmd: python3 -m person_image_segmentation.pipelines.complete_data_folder
    deps:
    - path: models/configs/config_hyps.yaml
      hash: md5
      md5: 05da6817f854175a91cd5c93e7f2b3fa
      size: 1064
    - path: models/configs/config_yolos.yaml
      hash: md5
      md5: af86e7ab1cf83d785677f10c7e6b9e87
      size: 317
    - path: person_image_segmentation/pipelines/complete_data_folder.py
      hash: md5
      md5: 674cba8398fe62191aeafd41c3753fb9
      size: 729
    outs:
    - path: data/config_hyps.yaml
      hash: md5
      md5: 05da6817f854175a91cd5c93e7f2b3fa
      size: 1064
    - path: data/config_yolos.yaml
      hash: md5
      md5: af86e7ab1cf83d785677f10c7e6b9e87
      size: 317
  train_model_sample:
    cmd: python3 -m person_image_segmentation.modeling.simple_train
    deps:
    - path: data/processed/images/train
      hash: md5
      md5: 0066881e0257735f187692b3f3e2f568.dir
      size: 208500112
      nfiles: 3500
    - path: models/configs/config_hyps.yaml
      hash: md5
      md5: 05da6817f854175a91cd5c93e7f2b3fa
      size: 1064
    - path: models/configs/config_yolos_sample_train.yaml
      hash: md5
      md5: 7b3652cc71e25d4c55e40139d18fc0ac
      size: 292
    - path: person_image_segmentation/modeling/simple_train.py
      hash: md5
      md5: ce43bf42819977c1ec472f0cedda0b3b
      size: 1748
    outs:
    - path: runs/segment/Sample_Train__DVC_Pipeline
      hash: md5
      md5: 28fefd4d18ded98adf3fa9c2903fd7c8.dir
      size: 104711949
      nfiles: 26
    - path: yolov8m-seg.pt
      hash: md5
      md5: f4c1091abb8ef1104201072d5bbaf06d
      size: 54921020
  predict_model_sample:
    cmd: python3 -m person_image_segmentation.modeling.prediction
    deps:
    - path: data/processed/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: models/weights_v0/best.pt
      hash: md5
      md5: f280fa61349c0c6c6c183571b83bd6f3
      size: 49567649
    - path: person_image_segmentation/modeling/prediction.py
      hash: md5
      md5: ceaba28e387ca9e57de0c3cbd9084729
      size: 3647
    outs:
    - path: predictions
      hash: md5
      md5: 17d7ae2fe7c5dda835e033b38abb3905.dir
      size: 116231
      nfiles: 10
  evaluate_model_sample:
    cmd: python3 -m person_image_segmentation.modeling.evaluation
    deps:
    - path: data/interim/transformed/masks/test
      hash: md5
      md5: 242ae3d59eecb6a1c88f004ea6af4e5f.dir
      size: 1135792
      nfiles: 750
    - path: data/processed/images/test
      hash: md5
      md5: fc0d520b3bc8576ee7a6cedaf5b612e5.dir
      size: 44850583
      nfiles: 750
    - path: predictions
      hash: md5
      md5: 17d7ae2fe7c5dda835e033b38abb3905.dir
      size: 116231
      nfiles: 10
